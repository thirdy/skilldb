<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
    <h:body>
    <ui:composition template="WEB-INF/templates/common/commonLayout.xhtml">
    	
		<ui:define name="content" >
		<h:form id="searchForm" style="min-height: 600px;">
			<p:layoutUnit style="border:0;">		
			   
			   <p:focus for="searchQuery" />
			   <div style="margin-left:10px; margin-top:15px; margin-bottom:20px; ">
	
			   <p:outputPanel>
		            <style>		   
			   		    /* enable absolute positioning */
						.inner-addon {
						  position: relative;
						}
						
						/* style glyph */
						.inner-addon .glyphicon {
						  position: absolute;
						  padding: 10px;
						  pointer-events: none;
						}
						@font-face {
						  font-family: 'Glyphicons Halflings';
						  src: url('fonts/glyphicons-halflings-regular.eot');
						  src: url('fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('fonts/glyphicons-halflings-regular.woff2') format('woff2'), url('fonts/glyphicons-halflings-regular.woff') format('woff'), url('fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');
						}
						.glyphicon {
						  position: relative;
						  top: 1px;
						  display: inline-block;
						  font-family: 'Glyphicons Halflings';
						  font-style: normal;
						  font-weight: normal;
						  line-height: 1;
						  -webkit-font-smoothing: antialiased;
						  -moz-osx-font-smoothing: grayscale;
						}
						.glyphicon-search:before{content:"\e003";}
						/* align glyph */
						.left-addon .glyphicon  { left: 335px;}
						
						/* add padding  */
						.left-addon input  { padding-left:  10px; }
						.right-addon input { padding-right: 10px; }
			    </style>
			    
			   <table border="0"><tr><td>
			            <b><h:outputText value="Search Profile: "/></b>
			    </td><td>
			            <div class="inner-addon left-addon">
			            <i class="glyphicon glyphicon-search"></i>
			            <p:inputText id="searchQuery" name="searchQuery"  styleClass="form-control" onfocus="this.value = this.value;" style="width:350px; margin-left:5px" value="#{homeController.searchQuery}" placeholder="Name or Skill"/>
			            </div>
			            </td>
			            <td>
			            <p:commandButton style="font-size:85%;width:35px; visibility:hidden;" icon="ui-icon-search" action="#{homeController.search()}"
			            update="searchForm, :messages"></p:commandButton>
				            </td></tr></table>
			    </p:outputPanel>
			    </div>
			    	
			    <p:dataTable var="emp" value="#{homeController.employees}" style="margin-bottom:40px"  widgetVar="empSkillTable"
			    	emptyMessage="" >
					
						<p:column headerText="Name" sortBy="#{emp.firstName} #{emp.lastName}" width="300">
				            <h:outputText value="#{emp.firstName} #{emp.lastName}" />
				        </p:column>
				        	<p:column headerText="Role" sortBy="#{emp.role}" width="200">
				            <h:outputText value="#{emp.role}" />
				        </p:column>
				        
				        <p:column headerText="Skill Category" sortBy="#{emp.skillCategory}" width="200">
				            <h:outputText value="#{emp.skillCategory}" />
				        </p:column>
				        
				        <p:column headerText="Skill Name" sortBy="#{emp.skillName}" width="250">
				            <h:outputText value="#{emp.skillName}" />
				        </p:column>				        
				 
				        <p:column headerText="Years of Exp" sortBy="#{emp.yearsOfExperience}" width="150">
				            <h:outputText value="#{emp.yearsOfExperience}" />
				        </p:column>
				 
				        <p:column headerText="Level" sortBy="#{emp.level}" width="100">
				            <h:outputText value="#{emp.level}" />
				        </p:column>
				 
				        <p:column headerText="Certified" sortBy="#{emp.certified}" width="95">
				            <h:outputText value="#{emp.certified}" />
				        </p:column>  
				 	    <p:column headerText="APD Office" sortBy="#{emp.country}" width="150">
				            <h:outputText value="#{emp.country}" />
				        </p:column>
				        <p:column style="width:32px;text-align: center">
				            <p:commandButton ajax="false" style="font-size:10px;width:35px" icon="ui-icon-search" title="View" onclick="this.form.target='_blank'"
				             action="#{homeController.viewDetail()}">			
				             <f:param name="employeeId" value="#{emp.employeeId}" />	              
				            </p:commandButton>
				        </p:column>		       
			    </p:dataTable>	
			    <h5 style="margin-left:10px">#{homeController.size} record(s) found.</h5>
			</p:layoutUnit>
			</h:form>
		</ui:define>
		
	</ui:composition>
	
	<script type="text/javascript">    
function popupwindow(url, title) {      
    window.open(url , title, "toolbar=no, scrollbars=yes, resizable=yes, top=170, left=170, width=800, height=600");        
}    
</script>
</h:body>
</html>



