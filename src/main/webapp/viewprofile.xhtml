<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:body>
    	<ui:composition template="WEB-INF/templates/common/commonLayout.xhtml">
    		<ui:define name="title">View Profile</ui:define>
    		<ui:define name="content">    		
    		<p:layoutUnit style="border:0;">
			<h:form id="profileForm" style="min-height: 600px;">
		
				<div class="ui-grid" style="padding-top:5px">
				    <div class="ui-grid-col-9"><h3 style="margin-top: 0;">View profile</h3></div>
				    <div class="ui-grid-col-3" style="text-align:right; padding-right:20px">
				    
					<p:commandButton value="Edit" action="#{viewEditProfileController.edit()}" />	
					<p:commandButton value="Export" action="#{viewEditProfileController.export()}" ajax="false" />
											    
				    <p:commandButton value="Close"  onclick="window.close()" rendered="#{param['closable'] == 'true'}" />
				    </div>
				</div>	
				 <table border="0" cellspacing="10" width="70%" class="profile-personal-info">
				  <tr>
				  	<td width="25%">
				    <c:choose>
				    	<c:when test="#{viewEditProfileController.employee.firstName != null and viewEditProfileController.employee.firstName != ''}">
					    <h:outputText value="#{viewEditProfileController.employee.firstName}" />  
					    </c:when>
					    <c:otherwise>( )</c:otherwise>
				    </c:choose>	
				    <br />
				    <span>First Name</span>		  	
				  	</td >
				  	<td width="25%">
				    <c:choose>
				    	<c:when test="#{viewEditProfileController.employee.lastName != null and viewEditProfileController.employee.lastName != ''}">
					    <h:outputText value="#{viewEditProfileController.employee.lastName}" />  
					    </c:when>
					    <c:otherwise>( )</c:otherwise>
				    </c:choose>				  	
				  	<br />
				  	<span>Last Name</span>
				  	</td>
				  	<td width="25%">
				    <c:choose>
				    	<c:when test="#{viewEditProfileController.employee.email != null and viewEditProfileController.employee.email != ''}">
					    <h:outputText value="#{viewEditProfileController.employee.email}" />  
					    </c:when>
					    <c:otherwise>( )</c:otherwise>
				    </c:choose>				  	
				  	<br />
				  	<span>Email</span>
				  	</td>
				  	<td width="25%">
				    <c:choose>
				    	<c:when test="#{viewEditProfileController.employee.manager != null and viewEditProfileController.employee.manager != ''}">
					    <h:outputText value="#{viewEditProfileController.employee.manager}" />  
					    </c:when>
					    <c:otherwise>( )</c:otherwise>
				    </c:choose>		
				    <br />
				    <span>Manager</span>	  	
				  	</td>
				  </tr>
				  <tr>
				  	<td>
				    <c:choose>
				    	<c:when test="#{viewEditProfileController.employee.gender != null and viewEditProfileController.employee.gender != ''}">
					    <h:outputText value="#{viewEditProfileController.employee.gender}" />  
					    </c:when>
					    <c:otherwise>( )</c:otherwise>
				    </c:choose>
				    <br />
				    <span>Gender</span>
				  	</td>
				  	<td>
				    <c:choose>
				    	<c:when test="#{viewEditProfileController.employee.role != null and viewEditProfileController.employee.role != ''}">
					    <h:outputText value="#{viewEditProfileController.employee.role}" />  
					    </c:when>
					    <c:otherwise>( )</c:otherwise>
				    </c:choose>	
				    <br />	
				    <span>Role/ Position</span>	  	
				  	</td>
				  	<td>
				    <c:choose>
				    	<c:when test="#{viewEditProfileController.employee.dateHired != null and viewEditProfileController.employee.dateHired != ''}">
					    <h:outputText value="#{viewEditProfileController.employee.dateHired}">
					    <f:convertDateTime pattern="dd-MM-yyyy" /></h:outputText>				    
					    </c:when>
					    <c:otherwise>( )</c:otherwise>
				    </c:choose>
				    <br />	
				    <span>Date Hired</span>  	
				  	</td>
				  	<td>
				    <c:choose>
				    	<c:when test="#{viewEditProfileController.employee.country  != null and viewEditProfileController.employee.country != ''}">
					    <h:outputText value="#{viewEditProfileController.employee.country}" />  
					    </c:when>
					    <c:otherwise>( )</c:otherwise>
				    </c:choose>		
				    <br />	
				    <span>Country</span>  	
				  	</td>
				  </tr>
				 </table>
				<h3 style="margin-top: 0">Skills</h3>
				
				<p:dataTable var="skill" value="#{viewEditProfileController.employee.skills}"  widgetVar="empSkillTable" emptyMessage="No skill(s) found">
				    <p:column headerText="Skill Category" width="14%" sortBy="#{skill.skill.skillCategory}">
				        <h:outputText value="#{skill.skill.skillCategory}" />
				    </p:column>
				 
				    <p:column headerText="Skill Name" width="18%" sortBy="#{skill.skill.skillName}">
				        <h:outputText value="#{skill.skill.skillName}" />
				    </p:column>
				 
				    <p:column headerText="Years of Experience" width="10%" sortBy="#{skill.sortYearsOfExperience}">
				        <h:outputText value="#{skill.yearsOfExperience}" />
				    </p:column>
				 
				    <p:column headerText="Level" width="8%" sortBy="#{skill.sortLevel}">
				        <h:outputText value="#{skill.level}" />
				    </p:column>
				    <p:column headerText="Certified" width="8%">
				        <h:outputText value="#{skill.certified}" />
				    </p:column>
				    <p:column headerText="Type of Certification" width="12%">
				        <h:outputText value="#{skill.typeOfCertification}" />
				    </p:column>
				    <p:column headerText="Date of Certification" width="8%">
				        <h:outputText value="#{skill.dateOfCertification}"><f:convertDateTime pattern="dd-MM-yyyy" /></h:outputText>
				    </p:column>
				    <p:column headerText="Comments" width="12%">
				        <h:outputText value="#{skill.comment}" />
				    </p:column>
				</p:dataTable>			
					
				<div class="ui-grid" style="padding-top:5px">
				    <div class="ui-grid-col-9"><h3 style="margin-top: 0">View profile</h3></div>
				    <div class="ui-grid-col-3" style="text-align:right;padding-right:20px">
					<p:commandButton value="Edit" action="#{viewEditProfileController.edit()}" />		
					<p:commandButton value="Export" action="#{viewEditProfileController.export()}" ajax="false" />
				    <p:commandButton value="Close"  onclick="window.close()" rendered="#{param['closable'] == 'true'}" />
				    </div>
				</div>
				</h:form>
				</p:layoutUnit>
    		</ui:define>    		
    	</ui:composition>
    </h:body>
</html>
